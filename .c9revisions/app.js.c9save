{"ts":1355860439649,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var http = require('http');\nvar path = require(\"path\");\nvar fs   = require('fs');\n\nvar extensions = {\n    \".html\": \"text/html\",\n    \".css\": \"text/css\",\n    \".js\": \"application/javascript\",\n    \".png\": \"image/png\",\n    \".gif\": \"image/gif\",\n    \".jpg\": \"image/jpeg\"\n    };\n\nhttp.createServer(function(request, response) {\n\n    // look for a filename in the URL, default to index.html\n    var filename    = path.basename(request.url) || \"index.html\";\n    var ext         = path.extname(filename);\n    var dir         = path.dirname(request.url).substring(1);\n    // __dirname is a built-in variable containing the path where the code is running\n    var localPath   = __dirname + \"/public/\";\n\n    console.log(filename + \" \" + ext + \" \" + dir + \" \" + localPath);\n    \n    if (extensions[ext]) {\n        \n        localPath += (dir ? dir + \"/\" : \"\") + filename;\n        \n        path.exists(localPath, function(exists) {\n            if (exists) {\n                getFile(localPath, extensions[ext], response);\n            } else {\n                response.writeHead(404);\n                response.end();\n            }\n        });\n    }\n    else {\n        console.log(\"Archivo desconocido\");\n        response.writeHead(404);\n        response.end();\n    }\n\n\n}).listen(8080);\n\nfunction getFile(localPath, mimeType, res) {\n    \n    fs.readFile(localPath, function(err, contents){\n        \n        if(!err)\n        {\n            res.writeHead(200, {\n                \"Content-Type\": mimeType,\n                \"Content-Length\": contents.length\n            });\n            \n            res.write(contents); \n            res.end();\n        }\n        else {\n            res.writeHead(500);\n            res.end();    \n        }\n    });\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]],"start1":0,"start2":0,"length1":0,"length2":1735}]],"length":1735}
{"contributors":[],"silentsave":false,"ts":1355860772047,"patch":[[{"diffs":[[0,"ar http "],[1,"       "],[0,"= requir"]],"start1":1,"start2":1,"length1":16,"length2":23},{"diffs":[[0,"ar path "],[1,"       "],[0,"= requir"]],"start1":36,"start2":36,"length1":16,"length2":23},{"diffs":[[0,"ar fs   "],[1,"       "],[0,"= requir"]],"start1":71,"start2":71,"length1":16,"length2":23},{"diffs":[[0,"('fs');\n"],[1,"var querystring = require(\"querystring\");\n\n"],[0,"\nvar ext"]],"start1":95,"start2":95,"length1":16,"length2":59}]],"length":1799,"saved":false}
{"ts":1355861001716,"patch":[[{"diffs":[[0,"nse) {\n\n"],[1,"    // parse everything after the \"?\" into key/value pairs\n    var qs          = querystring.parse(request.url.split(\"?\")[1]),\n        userName    = qs.firstName + \" \" + qs.lastName;\n\n"],[0,"    // l"]],"start1":377,"start2":377,"length1":16,"length2":200}]],"length":1983,"saved":false}
{"ts":1355929756330,"patch":[[{"diffs":[[0,"ring\");\n"],[1,"var io          = require(\"socket.io\").listen(1337);\n"],[0,"\n\nvar ex"]],"start1":137,"start2":137,"length1":16,"length2":69},{"diffs":[[0," });\n}\n\n"],[1,"// listen for connection from an individual client\nio.sockets.on(\"connection\", function(socket) {\n    // listen for setName event\n    socket.on(\"setName\", function(data) {\n        \n        var userName = data.firstName + \" \" + data.lastName;\n        // publish nameSet event with new username\n        socket.emit(\"nameSet\", {userName: userName});\n    });\n});\n\n"],[0,"\n\n\n\n\n\n\n\n"]],"start1":2014,"start2":2014,"length1":16,"length2":376}]],"length":2396,"saved":false}
{"ts":1355929987423,"patch":[[{"diffs":[[0,"ten("],[-1,"1337"],[1,"8080"],[0,");\n\n"]],"start1":187,"start2":187,"length1":12,"length2":12}]],"length":2396,"saved":false}
{"ts":1355930075677,"patch":[[{"diffs":[[0,").listen(808"],[-1,"0"],[1,"1"],[0,");\n\n\nvar ext"]],"start1":182,"start2":182,"length1":25,"length2":25}]],"length":2396,"saved":false}
{"ts":1355930868987,"patch":[[{"diffs":[[0,"ten("],[-1,"8081"],[1,"process.env.PORT"],[0,");\n\n"]],"start1":187,"start2":187,"length1":12,"length2":24},{"diffs":[[0,"ten("],[-1,"8080"],[1,"process.env.PORT"],[0,");\n\n"]],"start1":1568,"start2":1568,"length1":12,"length2":24}]],"length":2420,"saved":false}
{"ts":1355931056873,"patch":[[{"diffs":[[0,"rystring\");\n"],[1,"//"],[0,"var io      "]],"start1":133,"start2":133,"length1":24,"length2":26},{"diffs":[[0," client\n"],[1,"/*"],[0,"io.socke"]],"start1":2091,"start2":2091,"length1":16,"length2":18},{"diffs":[[0," });\n});"],[1,"*/"],[0,"\n\n\n\n\n\n\n\n"]],"start1":2400,"start2":2400,"length1":16,"length2":18}]],"length":2426,"saved":false}
{"ts":1355931374111,"patch":[[{"diffs":[[0,"ring\");\n"],[-1,"//"],[0,"var io  "]],"start1":137,"start2":137,"length1":18,"length2":16}]],"length":2424,"saved":false}
